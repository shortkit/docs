---
title: "Data export"
description: "Export raw engagement and analytics data for custom analysis, data warehousing, and compliance."
keywords: ["export", "data", "analytics", "GDPR", "CCPA", "compliance", "BigQuery"]
---

ShortKit provides data export capabilities for custom analysis, data warehousing, and compliance with privacy regulations. Export engagement events collected by the SDK, playback quality metrics, and per-user data.

## Export methods

| Method | Best for | Access |
|--------|----------|--------|
| [On-demand export](#on-demand-export) | Ad-hoc analysis, specific date ranges | API or Admin Portal |
| [Scheduled export](#scheduled-exports) | Regular data pipeline feeds | Admin Portal |
| [User data export](#user-data-export) | GDPR/CCPA data subject requests | API |

## On-demand export

### Via Admin Portal

1. Go to **Analytics** then **Export Data**
2. Select a date range (maximum 30 days)
3. Choose data types to include
4. Select format (CSV or JSON Lines)
5. Click **Export**
6. Download when the export is ready

### Via API

Request an export:

```bash
curl -X POST https://api.shortkit.dev/v1/analytics/export \
  -H "Authorization: Bearer sk_live_your_secret_key" \
  -H "Content-Type: application/json" \
  -d '{
    "startDate": "2026-01-01",
    "endDate": "2026-01-31",
    "dataTypes": ["events", "quality"],
    "format": "jsonl"
  }'
```

Response:

```json
{
  "data": {
    "jobId": "exp_abc123",
    "status": "processing",
    "estimatedSize": "250MB",
    "estimatedCompletion": "2026-02-05T12:30:00Z"
  }
}
```

Check status and get the download URL:

```bash
curl https://api.shortkit.dev/v1/analytics/export/exp_abc123 \
  -H "Authorization: Bearer sk_live_your_secret_key"
```

Response when complete:

```json
{
  "data": {
    "jobId": "exp_abc123",
    "status": "complete",
    "downloadUrl": "https://exports.shortkit.dev/...",
    "expiresAt": "2026-02-12T12:00:00Z",
    "fileSize": "245MB",
    "rowCount": 1250000
  }
}
```

### Export parameters

<ResponseField name="startDate" type="string" required>
  Start date in ISO 8601 format (`YYYY-MM-DD`).
</ResponseField>

<ResponseField name="endDate" type="string" required>
  End date in ISO 8601 format (`YYYY-MM-DD`). Maximum 30 days from start.
</ResponseField>

<ResponseField name="dataTypes" type="string[]" default='["events"]'>
  Data types to include:
  - `events` -- Engagement events (feedEntry, feedExit, impression, playStart, watchProgress, completion, swipe, interaction)
  - `quality` -- Playback quality events (rebuffer, qualityChange, error)
  - `ads` -- Ad events (impression, completion, click)
</ResponseField>

<ResponseField name="format" type="string" default="jsonl">
  Output format:
  - `jsonl` -- JSON Lines (one event per line, recommended)
  - `csv` -- Comma-separated values
</ResponseField>

<ResponseField name="filters" type="object">
  Optional filters to narrow the export:

  <Expandable title="properties">
    <ResponseField name="contentIds" type="string[]">
      Filter to specific content IDs.
    </ResponseField>
    <ResponseField name="userIds" type="string[]">
      Filter to specific user IDs.
    </ResponseField>
    <ResponseField name="eventTypes" type="string[]">
      Filter to specific event types.
    </ResponseField>
  </Expandable>
</ResponseField>

## Export formats

### JSON Lines (recommended)

One JSON object per line. Easy to process with streaming parsers and load into data warehouses:

```jsonl
{"event":"impression","contentId":"sk_content_abc123","userId":"user_456","timestamp":"2026-01-15T10:30:00Z","sessionId":"sess_xyz","data":{"positionInFeed":0}}
{"event":"playStart","contentId":"sk_content_abc123","userId":"user_456","timestamp":"2026-01-15T10:30:01Z","sessionId":"sess_xyz","data":{"startupTimeMs":245,"initialRendition":"720p"}}
{"event":"completion","contentId":"sk_content_abc123","userId":"user_456","timestamp":"2026-01-15T10:30:46Z","sessionId":"sess_xyz","data":{"totalWatchTime":45.2,"didLoop":false,"loopCount":0}}
```

### CSV

Tabular format for spreadsheet analysis:

```csv
event,contentId,userId,timestamp,sessionId,positionInFeed,startupTimeMs,initialRendition,totalWatchTime
impression,sk_content_abc123,user_456,2026-01-15T10:30:00Z,sess_xyz,0,,,
playStart,sk_content_abc123,user_456,2026-01-15T10:30:01Z,sess_xyz,,245,720p,
completion,sk_content_abc123,user_456,2026-01-15T10:30:46Z,sess_xyz,,,,45.2
```

## Exported data schema

### Engagement events

| Field | Type | Description |
|-------|------|-------------|
| `event` | string | Event type (one of the 11 SDK event types) |
| `contentId` | string | Content identifier |
| `userId` | string | User identifier (anonymous device ID or identified user ID) |
| `timestamp` | datetime | When the event occurred |
| `sessionId` | string | Feed session identifier |
| `deviceType` | string | Platform (ios, android, web) |
| `data` | object | Event-specific payload |

### Event types and payloads

The SDK tracks 11 event types. Each has a specific payload structure:

<AccordionGroup>
  <Accordion title="feedEntry">
    Fired when the feed view appears.
    ```json
    {
      "entryPoint": "home_tab",
      "timestamp": "2026-01-15T10:30:00Z"
    }
    ```
  </Accordion>
  <Accordion title="feedExit">
    Fired when the feed view disappears or the app backgrounds.
    ```json
    {
      "totalSessionTime": 180.5,
      "videosWatched": 12
    }
    ```
  </Accordion>
  <Accordion title="impression">
    Fired when a content cell snaps into view and the thumbnail is visible.
    ```json
    {
      "positionInFeed": 0
    }
    ```
  </Accordion>
  <Accordion title="playStart">
    Fired when the first frame of video renders.
    ```json
    {
      "startupTimeMs": 245,
      "initialRendition": "720p"
    }
    ```
  </Accordion>
  <Accordion title="watchProgress">
    Fired every 1 second of continuous playback.
    ```json
    {
      "currentTime": 15.5,
      "totalDuration": 45.2,
      "percentComplete": 34.3,
      "currentBitrate": 2500000
    }
    ```
  </Accordion>
  <Accordion title="completion">
    Fired when a video reaches its end.
    ```json
    {
      "totalWatchTime": 45.2,
      "didLoop": false,
      "loopCount": 0
    }
    ```
  </Accordion>
  <Accordion title="swipe">
    Fired when the user swipes to the next or previous video.
    ```json
    {
      "fromContentId": "sk_content_abc123",
      "toContentId": "sk_content_def456",
      "watchTimeOnFrom": 12.5,
      "direction": "next"
    }
    ```
  </Accordion>
  <Accordion title="rebuffer">
    Fired when playback stalls waiting for data.
    ```json
    {
      "currentTime": 8.2,
      "rebufferDurationMs": 1200,
      "networkType": "wifi"
    }
    ```
  </Accordion>
  <Accordion title="qualityChange">
    Fired when adaptive bitrate switches rendition.
    ```json
    {
      "fromRendition": "480p",
      "toRendition": "720p"
    }
    ```
  </Accordion>
  <Accordion title="error">
    Fired when a playback error occurs.
    ```json
    {
      "errorCode": "MEDIA_ERR_DECODE",
      "errorMessage": "The media resource could not be decoded.",
      "errorType": "playback"
    }
    ```
  </Accordion>
  <Accordion title="interaction">
    Fired when the user taps a control.
    ```json
    {
      "interactionType": "mute_toggle",
      "value": "unmuted"
    }
    ```
  </Accordion>
</AccordionGroup>

## Scheduled exports

Set up automatic recurring exports for your data pipeline.

### Configure in Admin Portal

1. Go to **Settings** then **Data Export**
2. Enable **Scheduled Exports**
3. Configure:
   - **Frequency**: Daily or weekly
   - **Data types**: Select the event categories to include
   - **Format**: CSV or JSON Lines
   - **Delivery**: Webhook URL or email notification

### Webhook delivery

When a scheduled export is ready, ShortKit sends a POST request to your webhook:

```json
{
  "event": "export.ready",
  "data": {
    "exportId": "exp_daily_20260205",
    "dateRange": {
      "start": "2026-02-04",
      "end": "2026-02-04"
    },
    "downloadUrl": "https://exports.shortkit.dev/...",
    "expiresAt": "2026-02-12T00:00:00Z",
    "fileSize": "45MB"
  }
}
```

## User data export

For GDPR and CCPA data subject requests, export all data associated with a specific user:

```bash
curl -X POST https://api.shortkit.dev/v1/users/{userId}/export \
  -H "Authorization: Bearer sk_live_your_secret_key"
```

Response:

```json
{
  "data": {
    "jobId": "usr_exp_abc123",
    "status": "processing"
  }
}
```

### Exported user data

The export includes:
- User profile (topic affinities, engagement summary)
- All engagement events attributed to the user
- Linked device IDs
- Session history

### Data deletion

To delete user data (right to erasure):

```bash
curl -X DELETE https://api.shortkit.dev/v1/users/{userId} \
  -H "Authorization: Bearer sk_live_your_secret_key"
```

This permanently deletes:
- User profile
- All engagement events
- Topic affinity data
- Device linkages

<Warning>
  User deletion is irreversible. The user ID can be reused, but all historical data is permanently removed.
</Warning>

## Data retention

| Data type | Retention period |
|-----------|-----------------|
| Raw events | 90 days |
| Aggregated analytics | 2 years |
| User profiles | Until deletion requested |
| Export files | 7 days after generation |

## Integration examples

### BigQuery

Load exported data into BigQuery for analysis:

```bash
# Download the export
curl -o events.jsonl "https://exports.shortkit.dev/..."

# Load into BigQuery
bq load --source_format=NEWLINE_DELIMITED_JSON \
  your_dataset.shortkit_events \
  events.jsonl \
  event:STRING,contentId:STRING,userId:STRING,timestamp:TIMESTAMP,sessionId:STRING
```

### Analytics pipeline

Process exported data with a streaming parser:

```javascript
const readline = require("readline");
const fs = require("fs");

const rl = readline.createInterface({
  input: fs.createReadStream("events.jsonl")
});

rl.on("line", (line) => {
  const event = JSON.parse(line);

  switch (event.event) {
    case "completion":
      // Track watch time by content
      break;
    case "swipe":
      // Analyze navigation patterns
      break;
    case "rebuffer":
      // Monitor playback quality
      break;
  }
});
```

## Best practices

<AccordionGroup>
  <Accordion title="Use streaming parsers for large exports">
    JSON Lines format allows processing line-by-line without loading the entire file into memory.
  </Accordion>
  <Accordion title="Schedule exports during off-peak hours">
    Large exports can take time to generate. Schedule them for low-traffic periods to minimize impact.
  </Accordion>
  <Accordion title="Implement incremental processing">
    Track your last processed timestamp and export only new data in each batch, rather than reprocessing the full history.
  </Accordion>
  <Accordion title="Download export files promptly">
    Export URLs are signed and expire after 7 days. Download and store files in your own infrastructure promptly.
  </Accordion>
</AccordionGroup>

## Next steps

<Columns cols={2}>
  <Card title="Analytics dashboard" icon="chart-bar" href="/portal/analytics">
    View analytics in the Admin Portal.
  </Card>
  <Card title="Webhooks" icon="bell" href="/guides/integration/webhooks">
    Receive notifications when exports complete.
  </Card>
</Columns>
