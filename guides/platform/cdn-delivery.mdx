---
title: "CDN delivery"
description: "How ShortKit delivers video content globally with low latency."
keywords: ["CDN", "delivery", "streaming", "latency", "signed URLs"]
---

ShortKit uses a two-path networking model to deliver content to your users. API requests and video streams travel through separate, optimized paths.

## Two-path delivery model

| Path | Domain | Purpose |
|------|--------|---------|
| **API** | `api.shortkit.dev` | Feed requests, configuration, event ingestion, identity resolution |
| **Video and images** | Global CDN | HLS video streaming, thumbnails |

When the SDK requests a feed, the API returns content metadata along with streaming and thumbnail URLs. The SDK's video player then fetches video segments directly from the CDN -- there is no round-trip back to the API for media delivery.

```
SDK
 |
 |-- GET api.shortkit.dev/v1/feed  -->  ShortKit API
 |       (returns content metadata + streaming URLs)
 |
 |-- GET {streamingUrl}  -->  Global CDN
 |       (HLS manifest + video segments)
 |
 |-- GET {thumbnailUrl}  -->  Global CDN
         (first-frame thumbnails)
```

This separation means that API latency and video delivery latency are independent. Feed requests resolve quickly from the API, while video segments are served from CDN edge locations closest to the viewer.

## Global CDN

Video segments and thumbnails are served through a globally distributed CDN with edge locations across all major regions. Content is cached at edge nodes close to your users, ensuring low-latency playback regardless of geography.

### How it works

1. The SDK initiates playback using the HLS streaming URL from the feed response
2. The CDN serves the HLS master playlist from the nearest edge location
3. The SDK's player selects the appropriate quality rendition based on network conditions
4. Video segments are fetched from the CDN as playback progresses
5. The SDK pre-buffers the next video in the feed for near-instant transitions on swipe

### Performance characteristics

| Metric | Target |
|--------|--------|
| Edge cache hit ratio | > 95% for popular content |
| Time to first byte (cache hit) | < 50ms |
| Global availability | 99.99% |

## Signed URLs

All streaming and thumbnail URLs returned by the feed API are signed with time-limited tokens. This prevents unauthorized access to your video content.

### How it works

1. The feed API returns content items with signed streaming URLs
2. Each URL includes an expiry timestamp and cryptographic signature
3. The CDN validates the signature before serving content
4. When a token expires, the SDK refreshes it automatically by requesting updated URLs from the API

### URL structure

Streaming URLs follow this pattern:

```
https://{cdn-host}/{content-path}/manifest.m3u8?token=...&expires=1707048000
```

Thumbnail URLs follow a similar pattern:

```
https://{cdn-host}/{content-path}/thumbnail.jpg?token=...&expires=1707048000
```

The SDK handles token refresh transparently. If a viewer's session outlasts the token expiry window, the SDK fetches fresh URLs without interrupting playback.

### Configurable expiry

You can configure the token validity duration:

```bash
curl -X PUT https://api.shortkit.dev/v1/config/cdn \
  -H "Authorization: Bearer sk_live_your_secret_key" \
  -H "Content-Type: application/json" \
  -d '{
    "urlExpiry": 21600
  }'
```

| Setting | Default | Range | Description |
|---------|---------|-------|-------------|
| `urlExpiry` | 6 hours | 1 -- 24 hours | Token validity duration in seconds |

<Tip>
  Shorter expiry values improve security but may increase the frequency of token refreshes for users with long viewing sessions. The SDK handles refresh automatically in either case.
</Tip>

## Thumbnails

The feed API returns a thumbnail URL for every content item. Thumbnails are first-frame images generated during transcoding and served from the same CDN as video content.

The SDK uses thumbnails to provide instant visual feedback: when a user scrolls through the feed, thumbnails display immediately while the video player buffers. The SDK pre-fetches thumbnails for upcoming items to ensure they are cached and ready before the user swipes.

## Next steps

<Columns cols={2}>
  <Card title="Feed ranking" icon="ranking-star" href="/guides/platform/feed-ranking">
    Learn how content is ordered in the feed.
  </Card>
  <Card title="Transcoding" icon="film" href="/guides/platform/transcoding">
    Understand the encoding pipeline that prepares content for delivery.
  </Card>
</Columns>
