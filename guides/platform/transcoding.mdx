---
title: "Transcoding"
description: "How ShortKit processes and encodes your video content for adaptive streaming."
keywords: ["transcoding", "encoding", "ABR", "codec", "H.264", "HLS"]
---

When you upload content, ShortKit's transcoding pipeline processes it into multiple quality renditions optimized for adaptive streaming. The pipeline produces everything needed for playback -- HLS manifests, renditions at multiple bitrates, thumbnails, and optional caption tracks.

## What gets generated

For every uploaded video, the pipeline produces:

| Asset | Description |
|-------|-------------|
| **ABR ladder** | Multiple quality renditions encoded with H.264 |
| **HLS manifests** | `.m3u8` master and variant playlists for adaptive streaming |
| **First-frame thumbnail** | Static image used by the SDK for instant display before video loads |
| **Auto-captions** | Speech-to-text subtitle track embedded in the HLS manifest (when enabled) |

## HLS adaptive bitrate streaming

ShortKit delivers all video via **HLS (HTTP Live Streaming)** with adaptive bitrate (ABR) playback. The player in the SDK automatically selects the best quality rendition based on the viewer's network conditions and device capabilities, switching seamlessly during playback.

### ABR rendition ladder

The pipeline generates multiple renditions from your source video:

| Rendition | Resolution | Approximate Bitrate | Segment Duration |
|-----------|------------|---------------------|------------------|
| 1080p | 1920 x 1080 | ~4,500 kbps | 4 seconds |
| 720p | 1280 x 720 | ~2,500 kbps | 4 seconds |
| 480p | 854 x 480 | ~1,200 kbps | 4 seconds |
| 360p | 640 x 360 | ~700 kbps | 4 seconds |

The exact set of renditions depends on the resolution and quality of your source file. If you upload a 720p source, the pipeline will not upscale -- it generates renditions at 720p and below.

### Encoding settings

| Setting | Value |
|---------|-------|
| Video codec | H.264 (AVC) |
| Profile | High |
| Audio codec | AAC-LC |
| Audio bitrate | 128 kbps (stereo) |
| Audio sample rate | 48 kHz |
| Rate control | Quality-based (CRF) |

H.264 provides universal compatibility across all iOS devices. The SDK uses the device's hardware decoder for efficient, battery-friendly playback.

## Auto-captioning

Enable automatic caption generation by setting `generateSubtitles: true` when creating an upload:

```bash
curl -X POST https://api.shortkit.dev/v1/uploads \
  -H "Authorization: Bearer sk_live_your_secret_key" \
  -H "Content-Type: application/json" \
  -d '{
    "title": "Weather Report",
    "generateSubtitles": true
  }'
```

When enabled, ShortKit's transcoding pipeline performs speech-to-text on the audio track and embeds the resulting subtitle track directly into the HLS manifest. The SDK discovers and renders these captions automatically -- no separate file or URL is needed.

### Caption delivery

Auto-generated captions appear as a `SUBTITLES` track in the HLS master playlist. The feed response indicates their availability:

```json
{
  "captionTracks": [
    {
      "language": "en",
      "label": "English",
      "source": "embedded",
      "url": null
    }
  ]
}
```

- `source: "embedded"` means captions are contained within the HLS manifest. The SDK uses the player's built-in subtitle rendering.
- `source: "external"` with a `url` value indicates a separate VTT file. The SDK fetches and renders it independently. This path is used for manually uploaded captions.

### Supported languages

English is supported for auto-captioning at launch. Additional languages will be added over time.

## Processing times

| Content Duration | Typical Processing Time |
|------------------|------------------------|
| Under 30 seconds | 1 -- 2 minutes |
| 1 minute | 2 -- 3 minutes |
| 5 minutes | 5 -- 8 minutes |

Processing time includes generating the full ABR ladder, thumbnails, and auto-captions (if enabled). You will receive a `content.ready` webhook when processing completes, or a `content.errored` webhook if it fails.

## Error handling

If transcoding fails, the content enters the `error` state. You receive a `content.errored` webhook with details:

```json
{
  "event": "content.errored",
  "data": {
    "id": "sk_content_abc123",
    "status": "error",
    "error": {
      "code": "TRANSCODE_FAILED",
      "message": "Video codec not supported"
    }
  }
}
```

Common errors:

| Error | Cause | Solution |
|-------|-------|----------|
| `UNSUPPORTED_CODEC` | Source uses an unsupported codec | Re-encode source to H.264 or H.265 before uploading |
| `CORRUPT_FILE` | File is corrupted or incomplete | Verify the file plays locally, then re-upload |
| `AUDIO_MISSING` | No audio track found | Add an audio track or re-upload as a silent video |

## Next steps

<Columns cols={2}>
  <Card title="CDN delivery" icon="globe" href="/guides/platform/cdn-delivery">
    Learn how transcoded content reaches your users.
  </Card>
  <Card title="Content pipeline" icon="upload" href="/guides/platform/content-pipeline">
    Review the full upload and processing flow.
  </Card>
</Columns>
