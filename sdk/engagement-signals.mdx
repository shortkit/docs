---
title: "Engagement signals"
description: "Understanding the events collected by the ShortKit SDK for analytics and personalization."
keywords: ["engagement", "signals", "events", "analytics", "tracking", "metrics"]
---

The ShortKit SDK automatically collects engagement signals to power feed personalization, content ranking, and analytics. This page documents all collected event types, their payloads, batching behavior, and privacy model.

## How event collection works

The SDK collects engagement events as the user interacts with the video feed. Events are batched in memory, persisted to disk, and sent to the ShortKit API in periodic flushes.

Every event includes a base set of fields:

| Field | Type | Description |
|-------|------|-------------|
| `timestamp` | datetime | When the event occurred |
| `userId` | string | Anonymous device ID or identified user ID |
| `sessionId` | string | Session identifier, generated on each feed entry and reset on feed exit |
| `contentId` | string | Identifier for the content item (where applicable) |

Event-specific fields are documented for each event type below.

## Event types

The SDK tracks 17 event types: 11 content events and 6 ad events.

### feedEntry

Fired when the user enters the feed view.

| Field | Type | Description |
|-------|------|-------------|
| `entryPoint` | string | How the user entered the feed (e.g., "tab", "widget", "deepLink") |
| `timestamp` | datetime | Entry timestamp |

### feedExit

Fired when the user leaves the feed view or the app moves to the background.

| Field | Type | Description |
|-------|------|-------------|
| `totalSessionTime` | number | Total time spent in the feed during this session, in seconds |
| `videosWatched` | number | Number of distinct videos viewed during the session |

### impression

Fired when a video cell snaps into view and the thumbnail becomes visible.

| Field | Type | Description |
|-------|------|-------------|
| `contentId` | string | Content identifier |
| `positionInFeed` | number | Position of the item in the feed (0-indexed) |
| `timestamp` | datetime | Impression timestamp |

### playStart

Fired when the first frame of a video renders and playback begins.

| Field | Type | Description |
|-------|------|-------------|
| `contentId` | string | Content identifier |
| `startupTimeMs` | number | Milliseconds from impression to first frame rendered |
| `initialRendition` | string | Starting quality level (e.g., "720p") |

### watchProgress

Fired every 1 second of continuous playback.

| Field | Type | Description |
|-------|------|-------------|
| `contentId` | string | Content identifier |
| `currentTime` | number | Current playback position in seconds |
| `totalDuration` | number | Total video duration in seconds |
| `percentComplete` | number | Percentage of the video watched (0--100) |
| `currentBitrate` | number | Current streaming bitrate in kbps |

### completion

Fired when a video reaches its end.

| Field | Type | Description |
|-------|------|-------------|
| `contentId` | string | Content identifier |
| `totalWatchTime` | number | Total seconds the user spent watching this video (accumulated across loops) |
| `didLoop` | boolean | Whether the video looped back to the beginning |
| `loopCount` | number | Number of complete loops |

### swipe

Fired when the user swipes to a different video.

| Field | Type | Description |
|-------|------|-------------|
| `fromContentId` | string | Content the user swiped away from |
| `toContentId` | string | Content the user swiped to |
| `watchTimeOnFrom` | number | Seconds spent watching the previous video before swiping |
| `direction` | string | Swipe direction: "next" or "previous" |

### rebuffer

Fired when playback stalls waiting for data to load.

| Field | Type | Description |
|-------|------|-------------|
| `contentId` | string | Content identifier |
| `currentTime` | number | Playback position where the stall occurred, in seconds |
| `rebufferDurationMs` | number | Duration of the stall in milliseconds |
| `networkType` | string | Connection type at the time of the stall (e.g., "wifi", "cellular") |

### qualityChange

Fired when adaptive bitrate streaming switches to a different rendition.

| Field | Type | Description |
|-------|------|-------------|
| `contentId` | string | Content identifier |
| `fromRendition` | string | Previous quality level |
| `toRendition` | string | New quality level |

### error

Fired when a playback error occurs.

| Field | Type | Description |
|-------|------|-------------|
| `contentId` | string | Content identifier |
| `errorCode` | string | Platform-specific error code |
| `errorMessage` | string | Human-readable error description |
| `errorType` | string | Category of error: "network", "decode", or "player" |
| `deviceInfo` | object | Device model, OS version, and screen size |

### interaction

Fired when the user taps a control in the overlay.

| Field | Type | Description |
|-------|------|-------------|
| `contentId` | string | Content identifier |
| `interactionType` | string | Type of interaction (see list below) |
| `value` | any | Interaction-specific value |

Supported interaction types:

| Interaction type | Description | Value |
|-----------------|-------------|-------|
| `share` | User tapped the share button | -- |
| `caption_toggle` | User toggled captions on or off | `true` / `false` |
| `mute_toggle` | User muted or unmuted | `true` / `false` |
| `seek` | User scrubbed to a new position | Seek target in seconds |

## Ad events

When the feed includes ad slots and an ad provider is configured, the SDK emits 6 additional event types for ad lifecycle tracking. These events flow through the same `POST /v1/events` pipeline and 30-second batching cycle as content events.

### adRequest

Fired when the SDK calls `loadAd` on the ad provider to request an ad for a slot.

| Field | Type | Description |
|-------|------|-------------|
| `slotId` | string | Server-assigned ad slot identifier |
| `filled` | boolean | Whether the ad request was filled successfully |
| `errorReason` | string | Reason for failure (e.g., `"no_fill"`, `"timeout"`). Only present when `filled` is `false` |

### adImpression

Fired when the ad cell becomes visible and the first frame renders. This is the billable event for most ad networks.

| Field | Type | Description |
|-------|------|-------------|
| `slotId` | string | Server-assigned ad slot identifier |
| `adUnitId` | string | Ad unit identifier |
| `creativeId` | string | Creative identifier from the ad provider |
| `position` | number | Position of the ad in the feed |

### adStart

Fired when the ad video begins playback.

| Field | Type | Description |
|-------|------|-------------|
| `slotId` | string | Server-assigned ad slot identifier |
| `adUnitId` | string | Ad unit identifier |
| `creativeId` | string | Creative identifier from the ad provider |
| `position` | number | Position of the ad in the feed |

### adProgress

Fired at the 25%, 50%, and 75% quartile marks during ad playback, following the standard VAST quartile tracking model.

| Field | Type | Description |
|-------|------|-------------|
| `slotId` | string | Server-assigned ad slot identifier |
| `quartile` | string | The quartile reached: `"first"` (25%), `"midpoint"` (50%), or `"third"` (75%) |

### adComplete

Fired when the ad video reaches the end without being skipped.

| Field | Type | Description |
|-------|------|-------------|
| `slotId` | string | Server-assigned ad slot identifier |
| `adUnitId` | string | Ad unit identifier |
| `creativeId` | string | Creative identifier from the ad provider |

### adSkip

Fired when the user swipes past the ad after the skip delay has elapsed.

| Field | Type | Description |
|-------|------|-------------|
| `slotId` | string | Server-assigned ad slot identifier |
| `watchTime` | number | Seconds the user watched the ad before skipping |

## Event batching

The SDK batches events to minimize network overhead and preserve battery life.

### Flush triggers

| Trigger | Behavior |
|---------|----------|
| **Periodic flush** | Every 30 seconds, the SDK writes queued events to disk and sends them via `POST /v1/events` |
| **Background flush** | When the app moves to the background, a flush is triggered immediately |
| **Launch recovery** | On app launch, the SDK checks disk for unsent events from a previous session and sends them |

### Disk persistence

Events are written to disk before each network request. This means events survive app crashes, force-quits, and network failures. If a `POST /v1/events` request succeeds, the persisted events are cleared from disk. If it fails, they remain on disk and are retried on the next flush cycle.

### Retry policy

Failed event submissions are retried up to 3 times with exponential backoff. After 3 consecutive failures, the batch is dropped to prevent unbounded disk growth.

## Privacy

### What the SDK collects

- An anonymous device ID (UUID, generated by the SDK and stored on-device)
- Engagement events as documented above (watch time, swipes, interactions, playback quality metrics)
- Basic device information (model, OS version, screen size) -- collected once per session and attached only to error events

### What the SDK does not collect

- No IDFA or advertising identifiers
- No device fingerprinting
- No personally identifiable information (PII)
- No location data
- No contacts, photos, or other on-device data

### Anonymous and identified modes

By default, all events are attributed to the anonymous device ID. The SDK works fully in anonymous mode without any user identification.

When the host app calls `setUserId`, events are attributed to the identified user ID. This enables cross-device personalization for the same user. The host app controls whether and when to identify users.

<Tip>
  Use an opaque identifier (database ID, UUID) rather than email addresses or other PII when calling `setUserId`.
</Tip>

### GDPR and data subject requests

For GDPR and CCPA compliance, use the ShortKit API to handle data subject requests:

```bash
# Export all data for a user
curl -X POST https://api.shortkit.dev/v1/users/{userId}/export \
  -H "Authorization: Bearer sk_live_your_secret_key"

# Delete all data for a user
curl -X DELETE https://api.shortkit.dev/v1/users/{userId} \
  -H "Authorization: Bearer sk_live_your_secret_key"
```

When a user calls `clearUserId`, the SDK generates a new anonymous device ID and reverts to anonymous mode. Previous engagement data remains associated with the prior identity and is not carried over.

## Next steps

<Columns cols={2}>
  <Card title="Configuration" icon="gear" href="/sdk/configuration">
    Full reference for feed layout and controls.
  </Card>
  <Card title="Theming" icon="palette" href="/sdk/theming">
    Customize colors, fonts, and visual styling.
  </Card>
</Columns>
