---
title: "Android SDK"
description: "Add a short-form video feed to your Android app with Kotlin."
keywords: ["Android", "Kotlin", "Jetpack Compose", "mobile SDK", "video feed"]
---

The ShortKit Android SDK gives your Android app a full-screen, vertically swipeable short-form video feed. Initialize with an API key, drop in a view, and ShortKit handles playback, streaming, engagement tracking, and UI rendering.

## Requirements

| Parameter | Value |
|---|---|
| Minimum API level | Android 7.0 (API 24) |
| Language | Kotlin 1.9+ |
| Android Gradle Plugin | 8.0+ |
| Playback engine | Media3 (bundled, no extra dependency) |
| Streaming protocol | HLS |

## Installation

Add the ShortKit Maven repository and dependency to your project.

```kotlin settings.gradle.kts
dependencyResolutionManagement {
    repositories {
        google()
        mavenCentral()
        maven { url = uri("https://maven.shortkit.dev") }
    }
}
```

```kotlin build.gradle.kts
dependencies {
    implementation("dev.shortkit:shortkit-android:1.0.0")
}
```

## Initialization

Create a `ShortKit` instance in your `Application` class. Do this once, early in your app lifecycle.

```kotlin MyApplication.kt
import android.app.Application
import dev.shortkit.ShortKit
import dev.shortkit.FeedConfig
import dev.shortkit.ControlsConfig
import dev.shortkit.ThemeConfig
import dev.shortkit.Environment

class MyApplication : Application() {

    lateinit var shortKit: ShortKit
        private set

    override fun onCreate() {
        super.onCreate()

        shortKit = ShortKit(
            apiKey = "pk_live_your_publishable_key",
            config = FeedConfig(
                feedHeight = FeedHeight.Fullscreen,
                controls = ControlsConfig(
                    playPause = true,
                    scrubber = true,
                    captions = CaptionConfig(enabled = true, defaultOn = false),
                    volume = true,
                    muteOnStart = true,
                    share = ShareConfig(enabled = true)
                ),
                theme = ThemeConfig(
                    primaryColor = "#FFFFFF",
                    controlsTint = "#FFFFFF",
                    backgroundColor = "#000000"
                )
            ),
            environment = Environment.Production
        )
    }
}
```

Register your `Application` class in `AndroidManifest.xml`:

```xml AndroidManifest.xml
<application
    android:name=".MyApplication"
    ...>
```

<Warning>
  Never expose your secret key (`sk_live_...` or `sk_test_...`) in client-side code, source control, or your app binary. Use only your publishable key (`pk_live_...`) for SDK initialization.
</Warning>

## Displaying the feed

<Tabs>
  <Tab title="Jetpack Compose">
    Use the `ShortKitFeedView` composable:

    ```kotlin VideoFeedScreen.kt
    import androidx.compose.foundation.layout.fillMaxSize
    import androidx.compose.runtime.Composable
    import androidx.compose.ui.Modifier
    import dev.shortkit.compose.ShortKitFeedView

    @Composable
    fun VideoFeedScreen(shortKit: ShortKit) {
        ShortKitFeedView(
            shortKit = shortKit,
            modifier = Modifier.fillMaxSize()
        )
    }
    ```
  </Tab>
  <Tab title="XML Layout">
    Add `ShortKitFeedFragment` to your layout:

    ```xml fragment_video_feed.xml
    <?xml version="1.0" encoding="utf-8"?>
    <FrameLayout
        xmlns:android="http://schemas.android.com/apk/res/android"
        android:layout_width="match_parent"
        android:layout_height="match_parent">

        <androidx.fragment.app.FragmentContainerView
            android:id="@+id/feedFragment"
            android:name="dev.shortkit.ui.ShortKitFeedFragment"
            android:layout_width="match_parent"
            android:layout_height="match_parent" />

    </FrameLayout>
    ```

    Pass the `ShortKit` instance to the fragment:

    ```kotlin VideoFeedActivity.kt
    import android.os.Bundle
    import androidx.appcompat.app.AppCompatActivity
    import dev.shortkit.ui.ShortKitFeedFragment

    class VideoFeedActivity : AppCompatActivity() {

        override fun onCreate(savedInstanceState: Bundle?) {
            super.onCreate(savedInstanceState)
            setContentView(R.layout.fragment_video_feed)

            val fragment = supportFragmentManager
                .findFragmentById(R.id.feedFragment) as ShortKitFeedFragment
            fragment.shortKit = (application as MyApplication).shortKit
        }
    }
    ```
  </Tab>
  <Tab title="Programmatic">
    Create the fragment in code:

    ```kotlin VideoFeedActivity.kt
    import android.os.Bundle
    import androidx.appcompat.app.AppCompatActivity
    import dev.shortkit.ui.ShortKitFeedFragment

    class VideoFeedActivity : AppCompatActivity() {

        override fun onCreate(savedInstanceState: Bundle?) {
            super.onCreate(savedInstanceState)

            val shortKit = (application as MyApplication).shortKit
            val fragment = ShortKitFeedFragment.newInstance(shortKit)

            supportFragmentManager.beginTransaction()
                .replace(android.R.id.content, fragment)
                .commit()
        }
    }
    ```
  </Tab>
</Tabs>

## Configuration

All configuration is expressed through Kotlin data classes with sensible defaults. You only set what you want to customize -- `FeedConfig()` alone produces a working feed.

### FeedConfig

```kotlin
data class FeedConfig(
    val feedHeight: FeedHeight = FeedHeight.Fullscreen,
    val controls: ControlsConfig = ControlsConfig(),
    val theme: ThemeConfig = ThemeConfig()
)

sealed class FeedHeight {
    object Fullscreen : FeedHeight()
    data class Percentage(val value: Float) : FeedHeight()
}
```

### ControlsConfig

```kotlin
data class ControlsConfig(
    val playPause: Boolean = true,
    val scrubber: Boolean = true,
    val captions: CaptionConfig = CaptionConfig(),
    val volume: Boolean = true,
    val muteOnStart: Boolean = true,
    val share: ShareConfig = ShareConfig(),
    val autoHideControls: AutoHideConfig = AutoHideConfig()
)

data class CaptionConfig(
    val enabled: Boolean = true,
    val defaultOn: Boolean = false,
    val style: CaptionStyle = CaptionStyle()
)

data class ShareConfig(
    val enabled: Boolean = true
)

data class AutoHideConfig(
    val enabled: Boolean = true,
    val delayMs: Int = 3000
)
```

### ThemeConfig

```kotlin
data class ThemeConfig(
    val primaryColor: String = "#FFFFFF",
    val backgroundColor: String = "#000000",
    val controlsTint: String = "#FFFFFF",
    val controlsBackgroundOpacity: Float = 0.4f,
    val fontFamily: String = "System",
    val scrubberStyle: ScrubberStyle = ScrubberStyle(),
    val captionStyle: CaptionStyle = CaptionStyle()
)

data class ScrubberStyle(
    val height: Float = 3.0f,
    val knobSize: Float = 12.0f,
    val playedColor: String = "#FFFFFF",
    val bufferedColor: String = "#80FFFFFF",
    val unplayedColor: String = "#4DFFFFFF"
)

data class CaptionStyle(
    val fontSize: Float = 16.0f,
    val textColor: String = "#FFFFFF",
    val backgroundColor: String = "#000000",
    val backgroundOpacity: Float = 0.7f,
    val position: CaptionPosition = CaptionPosition.Bottom
)

enum class CaptionPosition {
    Top,
    Bottom
}
```

<Tip>
  Colors are specified as hex strings (`#RRGGBB` or `#AARRGGBB`). The SDK converts them to Android color values internally.
</Tip>

### Remote configuration

The SDK fetches a remote configuration overlay on initialization. Server-side overrides merge on top of your code-level defaults, enabling A/B testing and remote control without app updates.

Configuration resolves in this order:

1. Your code-level `FeedConfig` renders the feed immediately.
2. A remote overlay loads in the background (2-second timeout, non-blocking).
3. Server-provided fields override your defaults. Fields not included in the overlay keep your values.
4. The overlay is cached to disk with a configurable TTL (default 5 minutes).

## User identity

ShortKit generates an anonymous device ID on first initialization. All engagement tracking and feed personalization work immediately without requiring a user ID.

When your user logs in, associate their identity for cross-device personalization:

```kotlin
// After your authentication completes
shortKit.setUserId("user_12345")

// On logout -- generates a new anonymous device ID
shortKit.clearUserId()
```

<Note>
  Calling `setUserId` triggers backend identity resolution, merging the anonymous session's engagement data with the identified user profile. Call `clearUserId` when the user logs out.
</Note>

## Environment

Control which ShortKit environment the SDK connects to:

```kotlin
val shortKit = ShortKit(
    apiKey = "pk_live_your_publishable_key",
    config = FeedConfig(),
    environment = Environment.Production  // default
)
```

| Environment | Description |
|---|---|
| `Environment.Production` | Live environment. Use in release builds. |
| `Environment.Staging` | Pre-release testing environment. |
| `Environment.Development` | Local development. Enables debug logging. |

## Lifecycle management

The SDK handles Android lifecycle transitions automatically:

| Event | Behavior |
|---|---|
| App backgrounds | Pauses playback, flushes engagement events |
| App foregrounds | Resumes playback |
| Low memory | Releases non-active players, clears thumbnail cache, rebuilds when pressure subsides |

When using the `ShortKitFeedFragment` in XML layouts, the fragment manages its own lifecycle. No manual `resume()` or `pause()` calls are needed.

## ProGuard rules

If using ProGuard or R8 with full mode, add these rules:

```proguard proguard-rules.pro
-keep class dev.shortkit.** { *; }
-keepclassmembers class dev.shortkit.** { *; }
```

## Next steps

<CardGroup cols={2}>
  <Card title="Configuration" icon="sliders" href="/sdk/configuration">
    Full reference for all FeedConfig, ControlsConfig, and ThemeConfig options.
  </Card>
  <Card title="Theming" icon="palette" href="/sdk/theming">
    Match the feed to your brand with ThemeConfig.
  </Card>
  <Card title="User identity" icon="user" href="/guides/integration/identity-management">
    Set up setUserId for personalized feeds and cross-device analytics.
  </Card>
  <Card title="Upload content" icon="cloud-arrow-up" href="/api-reference/uploads">
    Push videos into your feed with the Upload API.
  </Card>
</CardGroup>
