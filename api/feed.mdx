---
title: "Feed"
description: "Retrieve a personalized video feed for your users."
keywords: ["feed", "ranking", "personalization", "API"]
---

The Feed API is the primary endpoint consumed by the ShortKit SDK. It returns a ranked list of video content tailored to the requesting user. The SDK calls this endpoint automatically, but you can also call it directly for server-side rendering or custom integrations.

## Endpoint

| Method | Endpoint | Description |
|--------|----------|-------------|
| `GET` | `/v1/feed` | Get a personalized video feed |

## Authentication

The Feed API uses a **publishable key** passed via the `X-API-Key` header. Publishable keys are safe to embed in client-side code and mobile apps.

```bash
X-API-Key: pk_live_your_publishable_key
```

## Get feed

Retrieves a ranked feed of video content for a given user.

```bash
GET /v1/feed
```

### Query parameters

<ParamField query="userId" type="string">
  Identifier for the user requesting the feed. When provided, the ranking algorithm personalizes results based on the user's watch history and engagement signals. If omitted, the feed returns a default ranked order.
</ParamField>

### Example request

```bash
curl "https://api.shortkit.dev/v1/feed?userId=user_456" \
  -H "X-API-Key: pk_live_your_publishable_key"
```

### Response

```json
{
  "data": [
    {
      "id": "sk_content_abc123",
      "title": "Breaking: Weather Alert",
      "description": "Severe thunderstorm warning for the metro area",
      "duration": 32.5,
      "streamingUrl": "https://video.shortkit.dev/sk_content_abc123/stream.m3u8",
      "thumbnailUrl": "https://images.shortkit.dev/sk_content_abc123/thumbnail.jpg",
      "captionTracks": [
        {
          "language": "en",
          "label": "English",
          "source": "embedded",
          "url": null
        }
      ],
      "customMetadata": {
        "articleUrl": "https://example.com/weather-alert",
        "category": "severe-weather"
      }
    },
    {
      "id": "sk_content_def456",
      "title": "Product Launch Recap",
      "description": "Highlights from today's launch event",
      "duration": 58.0,
      "streamingUrl": "https://video.shortkit.dev/sk_content_def456/stream.m3u8",
      "thumbnailUrl": "https://images.shortkit.dev/sk_content_def456/thumbnail.jpg",
      "captionTracks": [
        {
          "language": "en",
          "label": "English",
          "source": "embedded",
          "url": null
        }
      ],
      "customMetadata": {
        "category": "product"
      }
    }
  ],
  "meta": {
    "request_id": "req_feed001"
  }
}
```

### Feed item object

Each item in the `data` array contains:

<ResponseField name="id" type="string">
  Content identifier (e.g., `sk_content_abc123`).
</ResponseField>

<ResponseField name="title" type="string">
  Display title.
</ResponseField>

<ResponseField name="description" type="string | null">
  Optional description text.
</ResponseField>

<ResponseField name="duration" type="number">
  Video duration in seconds.
</ResponseField>

<ResponseField name="streamingUrl" type="string">
  HLS streaming URL. Pass this directly to your video player.
</ResponseField>

<ResponseField name="thumbnailUrl" type="string">
  Thumbnail image URL for the poster frame.
</ResponseField>

<ResponseField name="captionTracks" type="array">
  Available caption tracks. Each track has `language` (ISO 639-1 code), `label` (human-readable name),
  `source` (`"embedded"` for captions in the HLS stream, `"external"` for sidecar files),
  and `url` (`null` for embedded, a URL for external).
</ResponseField>

<ResponseField name="customMetadata" type="object">
  Arbitrary key-value pairs set when the content was created or updated.
  Use this to pass application-specific data (article URLs, category tags, deep links)
  through to your app's UI layer.
</ResponseField>

## Ranking

The feed ranking algorithm determines the order in which content is returned. It considers multiple signals to deliver the most relevant content to each user.

### Ranking signals

| Signal | Description |
|--------|-------------|
| **Recency** | Newer content is favored over older content. |
| **Editorial controls** | Pinned content appears at its designated position. Suppressed content, future-scheduled content, and expired content are excluded. |
| **Watch history** | Content the user has already watched is deprioritized to avoid repetition. |
| **Engagement** | Content with higher engagement rates (completions, likes, shares) is ranked higher. |
| **Personalization** | The algorithm learns from a user's viewing patterns to surface content aligned with their interests. |

### Content eligibility

Content must meet all of the following criteria to appear in the feed:

| Rule | Behavior |
|------|----------|
| **Status** | Only content with status `ready` is included. |
| **Suppression** | Content where `isSuppressed` is `true` is excluded. |
| **Publish window** | Content with a `publishAt` timestamp in the future is excluded. |
| **Expiration window** | Content with an `expiresAt` timestamp in the past is excluded. |

### Pinned content

Content with a `pinPosition` value is placed at its specified position in the feed, regardless of other ranking signals. Multiple pinned items are ordered by `pinPosition` ascending. All unpinned content follows, ordered by the ranking algorithm.

## SDK integration

The ShortKit SDK handles feed fetching and video playback automatically. You do not need to call the Feed API directly unless you are building a custom integration.

<Tabs>
  <Tab title="iOS (Swift)">
    ```swift
    import ShortKit

    // Initialize with your publishable key
    let config = ShortKitConfig(apiKey: "pk_live_your_publishable_key")
    let shortKit = ShortKit(config: config)

    // Present the feed as a full-screen view
    let feedView = ShortKitFeedView()
    present(feedView, animated: true)

    // Identify the current user for personalized ranking
    shortKit.identify(userId: "user_456")
    ```
  </Tab>
  <Tab title="Android (Kotlin)">
    ```kotlin
    import dev.shortkit.sdk.ShortKit
    import dev.shortkit.sdk.ShortKitConfig

    // Initialize with your publishable key
    val config = ShortKitConfig(apiKey = "pk_live_your_publishable_key")
    val shortKit = ShortKit(config)

    // Present the feed as a full-screen view
    val feedFragment = ShortKitFeedFragment()
    supportFragmentManager.beginTransaction()
        .replace(R.id.container, feedFragment)
        .commit()

    // Identify the current user for personalized ranking
    shortKit.identify(userId = "user_456")
    ```
  </Tab>
  <Tab title="React Native">
    ```typescript
    import { ShortKit, ShortKitFeedView } from '@shortkit/react-native';

    // Initialize with your publishable key
    const shortKit = new ShortKit({ apiKey: 'pk_live_your_publishable_key' });

    // Render the feed as a full-screen component
    function App() {
      return <ShortKitFeedView />;
    }

    // Identify the current user for personalized ranking
    shortKit.identify({ userId: 'user_456' });
    ```
  </Tab>
</Tabs>

## Error responses

| HTTP Status | Error code | Description |
|-------------|------------|-------------|
| 401 | `invalid_api_key` | The `X-API-Key` header is missing or the key is not valid. |
| 429 | `rate_limited` | Too many requests. Retry after the duration in the `Retry-After` header. |
| 500 | `internal_error` | An unexpected error occurred. Contact support if it persists. |

All error responses follow the standard envelope format:

```json
{
  "data": null,
  "meta": {
    "request_id": "req_err123"
  },
  "errors": [
    {
      "code": "invalid_api_key",
      "message": "The provided API key is not valid.",
      "status": 401
    }
  ]
}
```

## Next steps

<Columns cols={2}>
  <Card title="Content API" icon="video" href="/api/content">
    Manage content metadata and editorial controls.
  </Card>
  <Card title="Events API" icon="chart-line" href="/api/events">
    Send engagement events from your app.
  </Card>
</Columns>
