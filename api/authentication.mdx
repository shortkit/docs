---
title: "Authentication"
description: "Authenticate API requests using publishable keys and secret keys."
keywords: ["authentication", "API keys", "security", "authorization"]
---

All API requests require authentication. ShortKit uses two types of API keys -- **publishable keys** for client-side access and **secret keys** for server-side operations.

## API key types

| Key type | Prefix | Header | Permissions |
|----------|--------|--------|-------------|
| **Publishable** | `pk_live_` / `pk_test_` | `X-API-Key` | Read-only: feed, config, events, identity |
| **Secret** | `sk_live_` / `sk_test_` | `Authorization: Bearer` | Full access: uploads, content management, and all read operations |

<Warning>
  Secret keys grant full API access. Never expose them in client-side code, mobile apps, public repositories, or browser environments.
</Warning>

## Publishable keys

Publishable keys are designed to be embedded in client applications. They provide **read-only** access to public-facing endpoints.

Use the `X-API-Key` header:

```bash
curl https://api.shortkit.dev/v1/feed?limit=10 \
  -H "X-API-Key: pk_live_your_publishable_key"
```

### Publishable key permissions

Publishable keys can access:

- `GET /v1/feed` -- Retrieve ranked video feeds
- `GET /v1/config` -- Fetch remote configuration
- `POST /v1/events` -- Send engagement events
- `POST /v1/identity/resolve` -- Resolve user identity

Publishable keys **cannot** access:

- Content upload or management endpoints
- Analytics query endpoints
- Any write operation on content or configuration

### SDK initialization

Use your publishable key when initializing the ShortKit SDK:

```swift
ShortKit.initialize(apiKey: "pk_live_your_publishable_key")
```

The SDK handles authentication automatically for all subsequent requests.

## Secret keys

Secret keys are used for server-to-server communication. They provide **full access** to all API endpoints, including content uploads and management.

Use the `Authorization` header with a `Bearer` token:

```bash
curl -X POST https://api.shortkit.dev/v1/uploads \
  -H "Authorization: Bearer sk_live_your_secret_key" \
  -H "Content-Type: application/json" \
  -d '{
    "title": "Breaking: Weather Alert",
    "description": "Severe thunderstorm warning for the metro area",
    "tags": ["weather", "severe"],
    "customMetadata": {
      "articleUrl": "https://weather.com/severe-storm"
    }
  }'
```

### Secret key permissions

Secret keys can access all endpoints available to publishable keys, plus:

- `POST /v1/uploads` -- Create direct upload sessions
- `GET /v1/uploads/{id}` -- Check upload status

Secret keys are shown **once** at creation time. They cannot be retrieved after that. Store them securely.

## Environment isolation

Every API key includes an environment prefix -- either `live` or `test`. These environments are **completely isolated**:

| Environment | Key prefixes | Behavior |
|-------------|-------------|----------|
| **Live** | `pk_live_`, `sk_live_` | Production content, real video processing, persistent data |
| **Test** | `pk_test_`, `sk_test_` | Test content, watermarked video, data deleted after 24 hours |

- A `live` key cannot read or write `test` data
- A `test` key cannot read or write `live` data
- Test environment videos are watermarked and limited to 10 seconds
- Test environment content is automatically deleted after 24 hours

<Tip>
  Always use `test` keys during development. This prevents accidental modifications to production content and avoids incurring video processing costs.
</Tip>

## Obtaining API keys

1. Sign in to the **ShortKit Dashboard**
2. Navigate to **Settings** then **API Keys**
3. Click **Create New Key** and select the key type (publishable or secret)
4. Copy the key immediately -- secret keys are only displayed once

## Key rotation

To rotate a compromised or aging key:

1. Create a new key of the same type in **Settings** then **API Keys**
2. Update your application to use the new key
3. Verify the new key is working in production
4. Revoke the old key

Revoked keys stop working immediately. Any request using a revoked key receives a `401` error response.

## Authentication errors

| HTTP Status | Error code | Description |
|-------------|------------|-------------|
| `401` | `invalid_api_key` | API key is missing, malformed, or has been revoked |
| `403` | `forbidden` | The key type does not have permission for this endpoint (e.g., publishable key used on a secret-key endpoint) |

### Example: missing API key

```bash
curl https://api.shortkit.dev/v1/feed
```

```json
{
  "data": null,
  "meta": {
    "request_id": "req_7c1b4a5d"
  },
  "errors": [
    {
      "code": "invalid_api_key",
      "message": "No API key was provided. Include your key in the X-API-Key header or Authorization header."
    }
  ]
}
```

### Example: publishable key on a secret-key endpoint

```bash
curl -X POST https://api.shortkit.dev/v1/uploads \
  -H "X-API-Key: pk_live_your_publishable_key" \
  -H "Content-Type: application/json" \
  -d '{"title": "My Video"}'
```

```json
{
  "data": null,
  "meta": {
    "request_id": "req_2e8f1a3b"
  },
  "errors": [
    {
      "code": "forbidden",
      "message": "This endpoint requires a secret key. Publishable keys have read-only access."
    }
  ]
}
```

## Security best practices

<AccordionGroup>
  <Accordion title="Store keys in environment variables">
    Never hard-code API keys in source files. Use environment variables or a secrets manager:

    ```bash
    # .env file (never commit this file)
    SHORTKIT_SECRET_KEY=sk_live_your_secret_key
    SHORTKIT_PUBLISHABLE_KEY=pk_live_your_publishable_key
    ```

    ```javascript
    // Access in your server code
    const secretKey = process.env.SHORTKIT_SECRET_KEY;
    ```
  </Accordion>
  <Accordion title="Use the correct key type for each context">
    - **Mobile apps and client-side code**: Always use publishable keys (`pk_live_` / `pk_test_`)
    - **Backend servers and scripts**: Use secret keys (`sk_live_` / `sk_test_`)

    Publishable keys are safe to embed in shipped code because they only grant read-only access.
  </Accordion>
  <Accordion title="Use test keys during development">
    Use `pk_test_` and `sk_test_` keys in development and staging environments. This prevents accidental modifications to production data and avoids unnecessary video processing costs.
  </Accordion>
  <Accordion title="Rotate keys on a regular schedule">
    Rotate API keys periodically (for example, quarterly) as a preventive measure. Do not wait until a key is compromised to rotate it.
  </Accordion>
  <Accordion title="Monitor for exposed keys">
    If a secret key is accidentally committed to a public repository or exposed in client-side code, revoke it immediately in **Settings** then **API Keys** and create a replacement.
  </Accordion>
  <Accordion title="Limit key distribution">
    Create separate secret keys for separate services. If one service is compromised, you can revoke its key without affecting others.
  </Accordion>
</AccordionGroup>

## Next steps

<CardGroup cols={2}>
  <Card title="API Introduction" icon="book" href="/api/introduction">
    Overview of API design, response format, and pagination.
  </Card>
  <Card title="Error handling" icon="triangle-exclamation" href="/api/errors">
    Understand error codes and implement robust error handling.
  </Card>
</CardGroup>
