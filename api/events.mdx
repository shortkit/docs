---
title: "Events"
description: "Batch ingestion endpoint for engagement and quality events."
keywords: ["events", "analytics", "tracking", "engagement", "batch"]
---

The Events API receives engagement and quality signals from your application. The SDK collects events locally and sends them in batches to a single endpoint. These events power analytics dashboards, feed ranking, and data exports.

## Endpoint

| Method | Endpoint | Auth | Description |
|--------|----------|------|-------------|
| `POST` | `/v1/events` | Publishable key | Ingest a batch of events |

All events are sent as an array in a single `POST` request. There is no separate single-event endpoint -- even a single event is sent as a one-element array.

## Authentication

Include your publishable key in the `X-API-Key` header. The publishable key is safe to embed in client-side code.

```
X-API-Key: pk_live_your_publishable_key
```

## Request format

Send an array of event objects in the request body. Each event follows a common schema with event-specific fields in the `data` object.

```bash
POST /v1/events
```

### Request body

```bash
curl -X POST https://api.shortkit.dev/v1/events \
  -H "X-API-Key: pk_live_your_publishable_key" \
  -H "Content-Type: application/json" \
  -d '{
    "events": [
      {
        "type": "impression",
        "contentId": "sk_content_abc123",
        "userId": "user_456",
        "sessionId": "sess_xyz789",
        "timestamp": "2026-02-05T12:00:00Z",
        "data": {
          "position": 0,
          "entryPoint": "feed"
        }
      },
      {
        "type": "playStart",
        "contentId": "sk_content_abc123",
        "userId": "user_456",
        "sessionId": "sess_xyz789",
        "timestamp": "2026-02-05T12:00:01Z",
        "data": {
          "startupTimeMs": 245,
          "initialRendition": "720p"
        }
      },
      {
        "type": "completion",
        "contentId": "sk_content_abc123",
        "userId": "user_456",
        "sessionId": "sess_xyz789",
        "timestamp": "2026-02-05T12:00:34Z",
        "data": {
          "watchTime": 32.5,
          "looped": false
        }
      }
    ]
  }'
```

### Common event fields

Every event in the array includes these fields:

<ParamField body="type" type="string" required>
  Event type. One of the types listed in the event types table below.
</ParamField>

<ParamField body="contentId" type="string" required>
  The ShortKit content ID this event relates to.
</ParamField>

<ParamField body="userId" type="string">
  Identified user ID from your application (if available). If omitted, the event is attributed to the anonymous device.
</ParamField>

<ParamField body="sessionId" type="string">
  Session identifier that groups events from a single viewing session. Generated by the SDK.
</ParamField>

<ParamField body="timestamp" type="string" required>
  ISO 8601 timestamp of when the event occurred on the client. Example: `2026-02-05T12:00:00Z`.
</ParamField>

<ParamField body="data" type="object">
  Event-specific fields. The schema depends on the event `type`. See the sections below for each type.
</ParamField>

### Response

```json
{
  "data": {
    "received": 3,
    "failed": 0
  },
  "meta": {
    "request_id": "req_xyz789"
  }
}
```

The response indicates how many events were accepted and how many were rejected due to validation errors. Failed events in a batch do not affect other events.

### Limits

| Limit | Value |
|-------|-------|
| Max events per request | 100 |
| Max timestamp age | 24 hours |

## Event types

### Engagement events

| Event type | Trigger | Event-specific fields |
|------------|---------|----------------------|
| `impression` | Content appears in viewport | `position`, `entryPoint` |
| `playStart` | Playback begins | `startupTimeMs`, `initialRendition` |
| `watchProgress` | Periodic progress update (every ~1s) | `currentTime`, `totalDuration`, `percentComplete` |
| `completion` | Video reaches end | `watchTime`, `looped` |
| `swipe` | User swipes to next content | `fromContentId`, `toContentId`, `watchTimeOnPrevious` |
| `like` | User likes content | _(none)_ |
| `share` | User shares content | `platform` |
| `save` | User saves content | _(none)_ |

### Feed navigation events

| Event type | Trigger | Event-specific fields |
|------------|---------|----------------------|
| `feedEntry` | User enters the feed view | _(none)_ |
| `feedExit` | User exits the feed view | `watchTime` |
| `interaction` | Generic user interaction | `action` |

### Ad events

| Event type | Trigger | Event-specific fields |
|------------|---------|----------------------|
| `adRequest` | SDK calls `loadAd` on the ad provider | `slotId`, `filled`, `errorReason` |
| `adImpression` | Ad cell becomes visible and first frame renders | `slotId`, `adUnitId`, `creativeId`, `position` |
| `adStart` | Ad video begins playback | `slotId`, `adUnitId`, `creativeId`, `position` |
| `adProgress` | Ad reaches a quartile mark (25%, 50%, 75%) | `slotId`, `quartile` |
| `adComplete` | Ad video reaches the end without being skipped | `slotId`, `adUnitId`, `creativeId` |
| `adSkip` | User swiped past the ad after the skip delay | `slotId`, `watchTime` |

### Quality events

| Event type | Trigger | Event-specific fields |
|------------|---------|----------------------|
| `rebuffer` | Playback stalls for buffering | `durationMs`, `currentTime` |
| `qualityChange` | Rendition changes | `fromRendition`, `toRendition` |
| `error` | Playback error | `errorCode`, `errorMessage` |

## Event data schemas

### impression

Sent when a content item becomes visible in the feed viewport.

```json
{
  "type": "impression",
  "contentId": "sk_content_abc123",
  "userId": "user_456",
  "sessionId": "sess_xyz789",
  "timestamp": "2026-02-05T12:00:00Z",
  "data": {
    "position": 0,
    "entryPoint": "feed"
  }
}
```

| Field | Type | Description |
|-------|------|-------------|
| `position` | integer | Zero-indexed position in the feed |
| `entryPoint` | string | How the user reached this content: `feed`, `direct`, `share` |

### playStart

Sent when video playback begins (first frame rendered).

```json
{
  "type": "playStart",
  "contentId": "sk_content_abc123",
  "userId": "user_456",
  "sessionId": "sess_xyz789",
  "timestamp": "2026-02-05T12:00:01Z",
  "data": {
    "startupTimeMs": 245,
    "initialRendition": "720p"
  }
}
```

| Field | Type | Description |
|-------|------|-------------|
| `startupTimeMs` | integer | Milliseconds from play intent to first frame |
| `initialRendition` | string | Initial quality rendition (e.g., `720p`, `1080p`) |

### watchProgress

Sent periodically during playback (approximately every 1 second).

```json
{
  "type": "watchProgress",
  "contentId": "sk_content_abc123",
  "userId": "user_456",
  "sessionId": "sess_xyz789",
  "timestamp": "2026-02-05T12:00:10Z",
  "data": {
    "currentTime": 9.0,
    "totalDuration": 32.5,
    "percentComplete": 0.277
  }
}
```

| Field | Type | Description |
|-------|------|-------------|
| `currentTime` | number | Current playback position in seconds |
| `totalDuration` | number | Total video duration in seconds |
| `percentComplete` | number | Fraction of video watched (0.0 to 1.0) |

### completion

Sent when the video reaches the end of playback.

```json
{
  "type": "completion",
  "contentId": "sk_content_abc123",
  "userId": "user_456",
  "sessionId": "sess_xyz789",
  "timestamp": "2026-02-05T12:00:34Z",
  "data": {
    "watchTime": 32.5,
    "looped": false
  }
}
```

| Field | Type | Description |
|-------|------|-------------|
| `watchTime` | number | Total seconds of video watched |
| `looped` | boolean | Whether the video looped back to the beginning |

### swipe

Sent when the user swipes from one content item to the next.

```json
{
  "type": "swipe",
  "contentId": "sk_content_def456",
  "userId": "user_456",
  "sessionId": "sess_xyz789",
  "timestamp": "2026-02-05T12:00:15Z",
  "data": {
    "fromContentId": "sk_content_abc123",
    "toContentId": "sk_content_def456",
    "watchTimeOnPrevious": 14.2
  }
}
```

| Field | Type | Description |
|-------|------|-------------|
| `fromContentId` | string | Content ID the user swiped away from |
| `toContentId` | string | Content ID the user swiped to |
| `watchTimeOnPrevious` | number | Seconds spent on the previous content before swiping |

### like

Sent when the user likes a content item.

```json
{
  "type": "like",
  "contentId": "sk_content_abc123",
  "userId": "user_456",
  "sessionId": "sess_xyz789",
  "timestamp": "2026-02-05T12:01:00Z",
  "data": {}
}
```

No event-specific fields.

### share

Sent when the user shares a content item.

```json
{
  "type": "share",
  "contentId": "sk_content_abc123",
  "userId": "user_456",
  "sessionId": "sess_xyz789",
  "timestamp": "2026-02-05T12:01:05Z",
  "data": {
    "platform": "messages"
  }
}
```

| Field | Type | Description |
|-------|------|-------------|
| `platform` | string | Share target: `messages`, `twitter`, `copy_link`, `other` |

### save

Sent when the user saves a content item.

```json
{
  "type": "save",
  "contentId": "sk_content_abc123",
  "userId": "user_456",
  "sessionId": "sess_xyz789",
  "timestamp": "2026-02-05T12:01:10Z",
  "data": {}
}
```

No event-specific fields.

### feedEntry

Sent when the user enters the feed view.

```json
{
  "type": "feedEntry",
  "contentId": "sk_content_abc123",
  "userId": "user_456",
  "sessionId": "sess_xyz789",
  "timestamp": "2026-02-05T12:00:00Z",
  "data": {}
}
```

No event-specific fields.

### feedExit

Sent when the user exits the feed view.

```json
{
  "type": "feedExit",
  "contentId": "sk_content_abc123",
  "userId": "user_456",
  "sessionId": "sess_xyz789",
  "timestamp": "2026-02-05T12:05:00Z",
  "data": {
    "watchTime": 300.0
  }
}
```

| Field | Type | Description |
|-------|------|-------------|
| `watchTime` | number | Total seconds spent in the feed view |

### interaction

Sent for generic user interactions not covered by other event types.

```json
{
  "type": "interaction",
  "contentId": "sk_content_abc123",
  "userId": "user_456",
  "sessionId": "sess_xyz789",
  "timestamp": "2026-02-05T12:01:15Z",
  "data": {
    "action": "tap_metadata"
  }
}
```

| Field | Type | Description |
|-------|------|-------------|
| `action` | string | The interaction type (e.g., `tap_metadata`, `long_press`, `double_tap`) |

### rebuffer

Sent when playback stalls due to buffering.

```json
{
  "type": "rebuffer",
  "contentId": "sk_content_abc123",
  "userId": "user_456",
  "sessionId": "sess_xyz789",
  "timestamp": "2026-02-05T12:00:12Z",
  "data": {
    "durationMs": 1200,
    "currentTime": 11.0
  }
}
```

| Field | Type | Description |
|-------|------|-------------|
| `durationMs` | integer | Duration of the stall in milliseconds |
| `currentTime` | number | Playback position when the stall occurred |

### qualityChange

Sent when the player switches between renditions.

```json
{
  "type": "qualityChange",
  "contentId": "sk_content_abc123",
  "userId": "user_456",
  "sessionId": "sess_xyz789",
  "timestamp": "2026-02-05T12:00:08Z",
  "data": {
    "fromRendition": "480p",
    "toRendition": "720p"
  }
}
```

| Field | Type | Description |
|-------|------|-------------|
| `fromRendition` | string | Previous rendition |
| `toRendition` | string | New rendition |

### error

Sent when a playback error occurs.

```json
{
  "type": "error",
  "contentId": "sk_content_abc123",
  "userId": "user_456",
  "sessionId": "sess_xyz789",
  "timestamp": "2026-02-05T12:00:05Z",
  "data": {
    "errorCode": "MEDIA_ERR_NETWORK",
    "errorMessage": "A network error caused the media download to fail."
  }
}
```

| Field | Type | Description |
|-------|------|-------------|
| `errorCode` | string | Machine-readable error code |
| `errorMessage` | string | Human-readable error description |

## Ad event data schemas

Ad events use the same common fields (`type`, `userId`, `sessionId`, `timestamp`) as content events. The `contentId` field is omitted since ad events are identified by `slotId` instead. Ad events are batched and delivered alongside content events in the same `POST /v1/events` requests.

### adRequest

Sent when the SDK calls `loadAd` on the ad provider. Records whether the ad request was filled.

```json
{
  "type": "adRequest",
  "userId": "user_456",
  "sessionId": "sess_xyz789",
  "timestamp": "2026-02-05T12:00:30Z",
  "data": {
    "slotId": "ad_slot_001",
    "filled": true
  }
}
```

On failure, the `errorReason` field is included:

```json
{
  "type": "adRequest",
  "userId": "user_456",
  "sessionId": "sess_xyz789",
  "timestamp": "2026-02-05T12:00:30Z",
  "data": {
    "slotId": "ad_slot_002",
    "filled": false,
    "errorReason": "no_fill"
  }
}
```

| Field | Type | Description |
|-------|------|-------------|
| `slotId` | string | Server-assigned ad slot identifier |
| `filled` | boolean | Whether the ad request was filled successfully |
| `errorReason` | string | Reason for failure (e.g., `no_fill`, `timeout`). Present only when `filled` is `false` |

### adImpression

Sent when the ad cell becomes visible and the first frame renders.

```json
{
  "type": "adImpression",
  "userId": "user_456",
  "sessionId": "sess_xyz789",
  "timestamp": "2026-02-05T12:00:32Z",
  "data": {
    "slotId": "ad_slot_001",
    "adUnitId": "/1234/shortkit-feed",
    "creativeId": "cr_xyz",
    "position": 3
  }
}
```

| Field | Type | Description |
|-------|------|-------------|
| `slotId` | string | Server-assigned ad slot identifier |
| `adUnitId` | string | Ad unit identifier |
| `creativeId` | string | Creative identifier from the ad provider |
| `position` | integer | Position of the ad in the feed |

### adStart

Sent when the ad video begins playback.

```json
{
  "type": "adStart",
  "userId": "user_456",
  "sessionId": "sess_xyz789",
  "timestamp": "2026-02-05T12:00:33Z",
  "data": {
    "slotId": "ad_slot_001",
    "adUnitId": "/1234/shortkit-feed",
    "creativeId": "cr_xyz",
    "position": 3
  }
}
```

| Field | Type | Description |
|-------|------|-------------|
| `slotId` | string | Server-assigned ad slot identifier |
| `adUnitId` | string | Ad unit identifier |
| `creativeId` | string | Creative identifier from the ad provider |
| `position` | integer | Position of the ad in the feed |

### adProgress

Sent at the 25%, 50%, and 75% quartile marks during ad playback.

```json
{
  "type": "adProgress",
  "userId": "user_456",
  "sessionId": "sess_xyz789",
  "timestamp": "2026-02-05T12:00:40Z",
  "data": {
    "slotId": "ad_slot_001",
    "quartile": "midpoint"
  }
}
```

| Field | Type | Description |
|-------|------|-------------|
| `slotId` | string | Server-assigned ad slot identifier |
| `quartile` | string | The quartile reached: `first` (25%), `midpoint` (50%), or `third` (75%) |

### adComplete

Sent when the ad video reaches the end without being skipped.

```json
{
  "type": "adComplete",
  "userId": "user_456",
  "sessionId": "sess_xyz789",
  "timestamp": "2026-02-05T12:00:55Z",
  "data": {
    "slotId": "ad_slot_001",
    "adUnitId": "/1234/shortkit-feed",
    "creativeId": "cr_xyz"
  }
}
```

| Field | Type | Description |
|-------|------|-------------|
| `slotId` | string | Server-assigned ad slot identifier |
| `adUnitId` | string | Ad unit identifier |
| `creativeId` | string | Creative identifier from the ad provider |

### adSkip

Sent when the user swipes past the ad after the skip delay has elapsed.

```json
{
  "type": "adSkip",
  "userId": "user_456",
  "sessionId": "sess_xyz789",
  "timestamp": "2026-02-05T12:00:45Z",
  "data": {
    "slotId": "ad_slot_001",
    "watchTime": 6.2
  }
}
```

| Field | Type | Description |
|-------|------|-------------|
| `slotId` | string | Server-assigned ad slot identifier |
| `watchTime` | number | Seconds the user watched the ad before skipping |

## SDK batching behavior

The SDK collects events locally and flushes them in batches to reduce network overhead. You do not need to call this endpoint directly unless you are building a custom integration.

| Behavior | Default |
|----------|---------|
| Events per flush | 10 |
| Max interval between flushes | 5 seconds |
| Flush on app background | Yes |
| Offline queueing | Yes (events are queued and sent when connectivity returns) |

## Validation

Events are validated server-side before ingestion:

| Rule | Behavior |
|------|----------|
| Missing required fields (`type`, `contentId`, `timestamp`) | Event rejected |
| Unknown event `type` | Event rejected |
| Timestamp older than 24 hours | Event rejected |
| Timestamp more than 5 minutes in the future | Timestamp adjusted to server time |

Failed events do not affect other events in the same batch.

## Next steps

<Columns cols={2}>
  <Card title="Analytics API" icon="chart-bar" href="/api/analytics">
    Query aggregated metrics derived from events.
  </Card>
  <Card title="Data export" icon="download" href="/api/export">
    Export raw event data for custom analysis.
  </Card>
</Columns>
